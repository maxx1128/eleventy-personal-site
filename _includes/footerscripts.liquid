<!-- Set up JS Data -->
{% include gatherposts.liquid %}
{% include gathernotes.liquid %}
{% include gatherexocortex.liquid %}

<!-- Save JS Data to window -->
<script>
  (function() {
    const ContentData = window.ContentData || {};
    const postData = document.getElementById("post-data").innerHTML;
    const noteData = document.getElementById("note-data").innerHTML;
    const exocortexData = document.getElementById("exocortex-data").innerHTML;

    const setPostData = data => ContentData.posts = data;
    const setNoteData = data => ContentData.notes = data;
    const setExocortexData = data => ContentData.documents = data;

    ContentData.init = (postData, noteData, exocortexData) => {
      setPostData(postData);
      setNoteData(noteData);
      setExocortexData(exocortexData);
    };

    window.ContentData = ContentData;
    window.ContentData.init(JSON.parse(postData), JSON.parse(noteData), JSON.parse(exocortexData));
  })();
</script>

<script type="text/javascript" src="/assets/javascript/main.js" charset="utf8" ></script>
