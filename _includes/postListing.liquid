{% assign postLimit = limit | default: 999 %}

<section class="post-listing__wrapper {{ wrapper_class }}">
  {% for post in posts limit: postLimit %}
    {% assign post_image = metadata.post.imagePath | append: post.data.image %}

    <div class="post-listing flex flex-align-center">
      <article class="post-listing__article py-8 px-4 md--px-6 flex-item flex flex-column flex-justify-center" {% if post.data.image %}style="background-image: url('{{ post_image }}')"{% endif %}>
        <small class="lg--mt-8 mb-0">
          <strong>
            {{ post.date | readableDate | date: "%B %e, %Y" }}
          </strong>
        </small>
        <h3 class="mt-0">
          <a href="{{ post.url }}">
            {{ post.data.title }}
          </a>
        </h3>

        {% if post.data.excerpt %}
          <p>
            {{ post.data.excerpt }}
          </p>
        {% endif %}

        {% include tagList
          tags: post.data.tags,
          classes: "lg--mb-8"
        %}
      </article>
    </div>
  {% endfor %}
</section>
